import { useState, useEffect, useRef } from "react";

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DATA
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const PHASES = [
  { id: 1, icon: "ğŸ’¡", title: "Generar 100 Ideas de Nichos", subtitle: "Opciones infinitas. Elige la que TE APASIONE.", time: "8-10 min", xp: 150, output: "Lista de 100 nichos viables", badge: "IDEATOR", badgeIcon: "ğŸ§ " },
  { id: 2, icon: "ğŸ”", title: "AnÃ¡lisis Competencia & Arquitectura", subtitle: "EspÃ­a a la competencia. Luego, supÃ©ralos.", time: "15-20 min", xp: 250, output: "Lista de URLs con anÃ¡lisis", badge: "STRATEGIST", badgeIcon: "ğŸ¯" },
  { id: 3, icon: "ğŸ”‘", title: "Keyword Research Profundo", subtitle: "Encuentra las palabras clave que Google ADORA.", time: "12-15 min", xp: 300, output: "Inputs organizados para cada URL", badge: "KEYWORD HUNTER", badgeIcon: "ğŸ¹" },
  { id: 4, icon: "âš™ï¸", title: "Crear URLs (Calc + Blog + Tools)", subtitle: "Cada pÃ¡gina = un archivo .html independiente", time: "5-10 min c/u", xp: 500, output: "N URLs SEO optimizadas", badge: "BUILDER", badgeIcon: "ğŸ—ï¸" },
  { id: 5, icon: "âš–ï¸", title: "Crear PÃ¡ginas Legales", subtitle: "ProtecciÃ³n legal. Necesarias para operar.", time: "25-30 min", xp: 200, output: "Privacidad, TÃ©rminos, Aviso Legal", badge: "COMPLIANT", badgeIcon: "ğŸ›¡ï¸" },
  { id: 6, icon: "ğŸ ", title: "PÃ¡gina Inicio + Header/Footer", subtitle: "Tu vitrina al mundo.", time: "15-17 min", xp: 250, output: "index.html + header-footer.html", badge: "ARCHITECT", badgeIcon: "ğŸ›ï¸" },
  { id: 7, icon: "âœ…", title: "QA Final & PublicaciÃ³n", subtitle: "Ãšltimas revisiones. Luego: al mundo.", time: "10-15 min", xp: 350, output: "Sitio completamente funcional", badge: "LAUNCHER", badgeIcon: "ğŸš€" },
];
const TOTAL_XP = PHASES.reduce((s, p) => s + p.xp, 0);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SMALL COMPONENTS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function CopyBtn({ text }) {
  const [copied, setCopied] = useState(false);
  return (
    <button onClick={() => { navigator.clipboard.writeText(text); setCopied(true); setTimeout(() => setCopied(false), 2000); }} style={{
      background: copied ? "#22c55e" : "rgba(255,255,255,.07)", border: "1px solid rgba(255,255,255,.12)",
      color: copied ? "#fff" : "#94a3b8", padding: "6px 16px", borderRadius: 8, fontSize: 12,
      cursor: "pointer", transition: "all .25s", fontFamily: "inherit", fontWeight: 600,
    }}>{copied ? "âœ“ Copiado" : "ğŸ“‹ Copiar prompt"}</button>
  );
}

function PromptBlock({ title, prompt, note }) {
  const [open, setOpen] = useState(false);
  return (
    <div style={{ background: "rgba(0,0,0,.3)", border: "1px solid rgba(255,255,255,.07)", borderRadius: 14, marginBottom: 20, overflow: "hidden" }}>
      <button onClick={() => setOpen(!open)} style={{
        width: "100%", background: "none", border: "none", color: "#e2e8f0",
        padding: "18px 22px", display: "flex", alignItems: "center", justifyContent: "space-between",
        cursor: "pointer", fontFamily: "inherit", fontSize: 15, fontWeight: 700, textAlign: "left",
      }}>
        <span style={{ display: "flex", alignItems: "center", gap: 10 }}>
          <span style={{ color: "#f59e0b", fontSize: 18 }}>ğŸ“„</span>{title}
        </span>
        <span style={{ transform: open ? "rotate(180deg)" : "rotate(0)", transition: "transform .3s", fontSize: 11, opacity: .4 }}>â–¼</span>
      </button>
      {open && (
        <div style={{ padding: "0 22px 22px" }}>
          {note && <p style={{ color: "#f59e0b", fontSize: 13, marginBottom: 14, fontStyle: "italic", lineHeight: 1.5 }}>{note}</p>}
          <div style={{ display: "flex", justifyContent: "flex-end", marginBottom: 10 }}><CopyBtn text={prompt} /></div>
          <pre style={{
            background: "rgba(0,0,0,.5)", border: "1px solid rgba(255,255,255,.05)", borderRadius: 10,
            padding: 18, color: "#cbd5e1", fontSize: 12.5, lineHeight: 1.7, overflowX: "auto",
            whiteSpace: "pre-wrap", wordBreak: "break-word", maxHeight: 520, overflowY: "auto",
            fontFamily: "'JetBrains Mono','Fira Code',monospace",
          }}>{prompt}</pre>
        </div>
      )}
    </div>
  );
}

function InfoBox({ color, borderColor, children }) {
  return (
    <div style={{ background: `${color}08`, border: `1px solid ${borderColor}30`, borderRadius: 12, padding: 18, marginTop: 16 }}>
      {children}
    </div>
  );
}

function CheckItem({ label, checked, onChange }) {
  return (
    <label style={{ display: "flex", alignItems: "flex-start", gap: 10, padding: "7px 0", cursor: "pointer", color: checked ? "#22c55e" : "#94a3b8", transition: "color .2s", fontSize: 14, lineHeight: 1.5 }}>
      <input type="checkbox" checked={checked} onChange={onChange} style={{ display: "none" }} />
      <span style={{ width: 22, height: 22, minWidth: 22, borderRadius: 6, border: checked ? "2px solid #22c55e" : "2px solid rgba(255,255,255,.18)", background: checked ? "rgba(34,197,94,.12)" : "transparent", display: "flex", alignItems: "center", justifyContent: "center", fontSize: 12, transition: "all .2s", marginTop: 1 }}>{checked ? "âœ“" : ""}</span>
      <span style={{ textDecoration: checked ? "line-through" : "none", opacity: checked ? .55 : 1 }}>{label}</span>
    </label>
  );
}

function BadgePopup({ badge, icon, onClose }) {
  return (
    <div style={{ position: "fixed", inset: 0, zIndex: 9999, background: "rgba(0,0,0,.75)", backdropFilter: "blur(10px)", display: "flex", alignItems: "center", justifyContent: "center", animation: "fadeIn .3s" }} onClick={onClose}>
      <div onClick={e => e.stopPropagation()} style={{
        background: "linear-gradient(145deg,#1e293b,#0f172a)", border: "2px solid #f59e0b", borderRadius: 28,
        padding: "52px 60px", textAlign: "center", boxShadow: "0 0 100px rgba(245,158,11,.2)", animation: "popIn .4s cubic-bezier(.175,.885,.32,1.275)", maxWidth: 400,
      }}>
        <div style={{ fontSize: 72, marginBottom: 20 }}>{icon}</div>
        <div style={{ color: "#f59e0b", fontSize: 12, fontWeight: 700, letterSpacing: 5, marginBottom: 8, fontFamily: "'Space Mono',monospace" }}>BADGE DESBLOQUEADO</div>
        <div style={{ color: "#f1f5f9", fontSize: 30, fontWeight: 800, marginBottom: 28, fontFamily: "'Space Mono',monospace" }}>{badge}</div>
        <button onClick={onClose} style={{ background: "linear-gradient(135deg,#f59e0b,#d97706)", border: "none", color: "#000", fontWeight: 800, padding: "14px 36px", borderRadius: 14, cursor: "pointer", fontSize: 15, fontFamily: "inherit" }}>Â¡CONTINUAR!</button>
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SECTION HEADER â€” reused inside every phase screen
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function SectionTitle({ children }) {
  return <h3 style={{ color: "#e2e8f0", fontSize: 16, fontWeight: 700, marginTop: 32, marginBottom: 14, fontFamily: "'Space Mono',monospace", borderBottom: "1px solid rgba(255,255,255,.06)", paddingBottom: 10 }}>{children}</h3>;
}

function StepList({ steps }) {
  return (
    <ol style={{ color: "#cbd5e1", fontSize: 14, lineHeight: 2.2, paddingLeft: 22, margin: 0 }}>
      {steps.map((s, i) => <li key={i}>{s}</li>)}
    </ol>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PHASE SCREENS (all prompts/content preserved 100 %)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

function Phase1Screen() {
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Generar <strong style={{ color: "#f59e0b" }}>100 ideas de nichos SEO</strong> rentables para sitios de calculadoras. Cada nicho validado con volumen real, viabilidad y potencial monetario.
    </p>

    <SectionTitle>ğŸ“ Pasos a seguir</SectionTitle>
    <StepList steps={[
      "Copia el prompt de abajo",
      "Personaliza SOLO el campo [PAÃS-DESTINO] (ej: Alemania, EspaÃ±a, etc.)",
      "Pega el prompt en tu IA preferida",
      "Recibe la tabla CSV con 100 nichos",
      "Elige 1 nicho â€” el que MÃS te apasione",
    ]} />

    <SectionTitle>ğŸ“„ Prompt: Generador de 100 Ideas (v3.0)</SectionTitle>
    <PromptBlock
      title="PROMPT 1 â€” Generador de 100 Ideas de Nichos SEO"
      note="Formato de salida: CSV. Personaliza SOLO [PAÃS-DESTINO]."
      prompt={`=== GENERADOR DE 100 IDEAS DE NICHOS SEO RENTABLES ===

CONTEXTO:
Soy emprendedor digital que quiere crear sitios de calculadoras online para ganar dinero.
Objetivo: Obtener 100 ideas de nichos REALES y VIABLES en [PAÃS-DESTINO].

CRITERIOS DE FILTRO (ESTRICTOS):
1. Volumen de bÃºsquedas: 600-10000/mes (debe tener demanda real)
2. Competencia: BAJA-MEDIA (no dominado por Google o sitios gigantes)
3. Potencial monetario: EUR 500-3000+/mes realista
4. ValidaciÃ³n: Que EXISTA demanda real en [PAÃS-DESTINO]
5. Calculadora viable: Que tenga sentido crear una herramienta interactiva

INSTRUCCIONES DE ANÃLISIS:
Para cada nicho, debes:
- Pensar COMO PERSONA que vive en [PAÃS-DESTINO]
- Entender necesidades reales y psicologÃ­a del mercado
- Investigar micronichos no saturados
- Considerar estacionalidad y tendencias
- Pensar en PROBLEMAS reales que la gente resuelve con calculadoras

DIVERSIDAD DE CATEGORÃAS:
Incluye nichos de:
- Finanzas (hipotecas, crÃ©ditos, impuestos, inversiones)
- ConstrucciÃ³n & Hogar (presupuestos, materiales, reforma)
- Salud & Fitness (calorÃ­as, IMC, edad biolÃ³gica, etc.)
- EducaciÃ³n (becas, costos estudio, etc.)
- EnergÃ­a (consumo elÃ©ctrico, solar, etc.)
- Seguros (cÃ¡lculo de primas, etc.)
- Viajes (presupuestos, conversiones)
- Negocios (mÃ¡rgenes, ROI, payback, etc.)
- Automotor (financiamiento, consumo combustible)
- Y mÃ¡s...

FORMATO DE RESPUESTA (OBLIGATORIO):
Devuelve EXACTAMENTE 100 ideas en este formato CSV:

Ranking | Nicho | Palabra Clave Principal | Volumen/Mes Est. | Viabilidad | Por QuÃ© Funciona | Potencial Mensual EUR | CategorÃ­a

Ejemplo de filas:
1 | Calculadora de Hipotecas | "hypothekenrechner" | 1800 | ALTA | Alemanes buscan financiamiento. Alto ticket. | 1500-2500 | Finanzas
2 | Calculadora de Impuestos | "steuerrechner" | 2100 | ALTA | Anual. Millones lo buscan. Recurrente. | 1200-2000 | Impuestos

REGLAS IMPORTANTES:
- NO repitas nichos (cada uno Ãºnico)
- Los volÃºmenes deben ser REALISTAS (investiga mercados reales)
- Incluye nichos obvios Y nichos ocultos
- Prioriza "evergreen" (buscan TODO el aÃ±o, no solo ciertas Ã©pocas)
- Considera demanda REAL, no especulaciÃ³n

AHORA GENERA LOS 100 NICHOS.
Responde en formato CSV directo (sin preamble ni explicaciones).`}
    />

    <InfoBox color="#f59e0b" borderColor="#f59e0b">
      <p style={{ color: "#fbbf24", fontSize: 14, margin: 0, fontWeight: 700 }}>ğŸ“‹ Output esperado</p>
      <p style={{ color: "#94a3b8", fontSize: 13, marginTop: 8, marginBottom: 0 }}>CSV con 100 filas: Ranking | Nicho | Palabra Clave | Volumen | Viabilidad | JustificaciÃ³n | Potencial | CategorÃ­a</p>
    </InfoBox>
  </>);
}

function Phase2Screen() {
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Analizar los <strong style={{ color: "#f59e0b" }}>TOP 10 competidores</strong> de tu nicho elegido, encontrar gaps de oportunidad, y diseÃ±ar la arquitectura completa de URLs de tu sitio.
    </p>

    <SectionTitle>ğŸ“ Pasos a seguir</SectionTitle>
    <StepList steps={[
      "Toma el nicho que elegiste en la Fase 1",
      "Personaliza los campos: [NICHO-ELEGIDO], [PALABRA-CLAVE-PRINCIPAL], [PAÃS-IDIOMA]",
      "Copia y pega el prompt en tu IA",
      "ObtÃ©n el anÃ¡lisis de competencia + arquitectura recomendada",
      "Guarda la tabla de arquitectura â€” la necesitarÃ¡s en la Fase 3",
    ]} />

    <SectionTitle>ğŸ“„ Prompt: AnÃ¡lisis Competencia & Arquitectura (v2.0)</SectionTitle>
    <PromptBlock
      title="PROMPT 2 â€” AnÃ¡lisis de Competencia & Arquitectura de URLs"
      note="Personaliza: [NICHO-ELEGIDO], [PALABRA-CLAVE-PRINCIPAL], [PAÃS-IDIOMA]"
      prompt={`=== ANÃLISIS COMPETIDOR & ARQUITECTURA DE URLs ===

CONTEXTO:
ElegÃ­ el nicho: [NICHO-ELEGIDO]
Palabra clave principal: [PALABRA-CLAVE-PRINCIPAL]
PaÃ­s/Idioma: [PAÃS-IDIOMA]

PARTE 1: ANÃLISIS DE COMPETENCIA
================================================

Necesito que analices a los competidores TOP 10 de esta palabra clave:
- Â¿CuÃ¡ntas URLs/pÃ¡ginas tienen cada sitio?
- Â¿CuÃ¡l es la estructura de navegaciÃ³n?
- Â¿Tienen calculadora, blog, o ambas?
- Â¿QuÃ© palabras clave secundarias atacan?
- Â¿CuÃ¡ntos artÃ­culos de blog?
- Â¿Tienen "tools" o herramientas secundarias?

Responde en este formato:

**Competidor 1 (sitio):**
- URLs totales: [nÃºmero]
- Estructura: [descripciÃ³n]
- Herramientas: [lista]
- Palabras clave: [lista de 5 principales]
- Estrategia: [resumen]

[Repite para competidores 2-10]

PARTE 2: ANÃLISIS DE GAPS
======================

Con base en lo que viste, responde:
- Â¿QuÃ© URLs crean los competidores?
- Â¿QuÃ© Keywords NO atacan (oportunidades)?
- Â¿QuÃ© palabras clave long-tail estÃ¡n desatendidas?
- Â¿Hay demanda sin oferta?

PARTE 3: ARQUITECTURA RECOMENDADA
==================================

BasÃ¡ndote en el anÃ¡lisis anterior, RECOMIENDA:

1. Â¿CuÃ¡ntas URLs MÃNIMO debe tener mi sitio?
   - JUSTIFICA por quÃ© ese nÃºmero

2. Para CADA URL propuesta:
   - Nombre/TÃ­tulo: [nombre]
   - URL amigable: /url-en-minusculas/
   - Palabra clave objetivo: [kw]
   - BÃºsquedas estimadas/mes: [nÃºmero]
   - Tipo de pÃ¡gina: [Calculadora / Blog / Herramienta / Informativa / Legal]
   - Por quÃ© la incluyo: [justificaciÃ³n de oportunidad]
   - Dificultad SEO: [BAJA/MEDIA/ALTA]
   - Prioridad: [1=MÃXIMA, 2=ALTA, 3=MEDIA, 4=BAJA]

3. Estructura recomendada:
   - URL #1: [mÃ¡s importante]
   - URL #2: [segunda prioridad]
   - ... (en orden de importancia)

PARTE 4: VENTAJA COMPETITIVA
=============================

Â¿CÃ³mo SUPERAR a la competencia con esta arquitectura?
- Â¿QuÃ© hacen ellos que NO haya pensado?
- Â¿QuÃ© podrÃ­a diferenciarme?
- Â¿QuÃ© URLs ellos NO tienen que YO SÃ podrÃ­a crear?

Responde con 3-5 acciones especÃ­ficas.

FORMATO FINAL DE ARQUITECTURA (TABLA):

| Prioridad | Tipo | URL | Palabra Clave | Volumen | Dificultad | Por QuÃ© |
|-----------|------|-----|---------------|---------|------------|---------|
| 1 | CALCULADORA | /calculadora-principal/ | [kw] | [vol] | [dif] | [razÃ³n] |
| 2 | BLOG | /blog-educativo/ | [kw] | [vol] | [dif] | [razÃ³n] |
| 3 | HERRAMIENTA | /comparador/ | [kw] | [vol] | [dif] | [razÃ³n] |
| ... | ... | ... | ... | ... | ... | ... |

RESPONDE TODAS LAS PARTES EN ORDEN.`}
    />

    <InfoBox color="#f59e0b" borderColor="#f59e0b">
      <p style={{ color: "#fbbf24", fontSize: 14, margin: 0, fontWeight: 700 }}>ğŸ“‹ Output esperado</p>
      <p style={{ color: "#94a3b8", fontSize: 13, marginTop: 8, marginBottom: 0 }}>AnÃ¡lisis detallado con tabla final de arquitectura de URLs (Prioridad | Tipo | URL | KW | Volumen | Dificultad | Por QuÃ©)</p>
    </InfoBox>
  </>);
}

function Phase3Screen() {
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Identificar <strong style={{ color: "#f59e0b" }}>100+ keywords reales</strong>, organizarlas por URL destino, y generar los <strong style={{ color: "#f59e0b" }}>bloques JSON de inputs</strong> que usarÃ¡s directamente en la Fase 4 para crear cada pÃ¡gina.
    </p>

    <SectionTitle>ğŸ“ Pasos a seguir</SectionTitle>
    <StepList steps={[
      "Toma la arquitectura de URLs de la Fase 2",
      "Personaliza: [NICHO], [PALABRA-CLAVE-PRINCIPAL], [IDIOMA], [PAÃS], [URLS-ARQUITECTURA]",
      "Pega el prompt en tu IA",
      "Recibe: tabla de 100+ keywords + bloques JSON por URL + resumen ejecutivo",
      "Guarda TODO en un documento â€” cada bloque JSON es input directo para Fase 4",
    ]} />

    <SectionTitle>ğŸ“„ Prompt: Keyword Research + Inputs Fase 4 (v3.0)</SectionTitle>
    <PromptBlock
      title="PROMPT 3 â€” Keyword Research Profundo + Inputs para Fase 4"
      note="Personaliza: [NICHO], [PALABRA-CLAVE-PRINCIPAL], [IDIOMA], [PAÃS], [URLS-ARQUITECTURA]"
      prompt={`=== KEYWORD RESEARCH PROFUNDO (100+ KEYWORDS) + INPUTS FASE 4 ===

CONTEXTO:
Nicho: [NICHO]
Palabra clave principal: [PALABRA-CLAVE-PRINCIPAL]
Idioma: [IDIOMA]
PaÃ­s: [PAÃS]
URLs planeadas: [URLS-ARQUITECTURA - lista de URLs con tipo]

INSTRUCCIONES CRÃTICAS:
====================

1. GENERA 100+ palabras clave REALES que la gente busca en [PAÃS].
2. Cada keyword DEBE tener:
   - La palabra exacta (como se busca)
   - BÃºsquedas estimadas/mes (REALISTAS)
   - IntenciÃ³n de bÃºsqueda (INFORMATIVA/NAVEGACIONAL/TRANSACCIONAL)
   - CategorÃ­a (CALCULADORA/BLOG/HERRAMIENTA)
   - Dificultad SEO (BAJA/MEDIA/ALTA)
   - JustificaciÃ³n psicolÃ³gica
   - URL DESTINO donde deberÃ­a ir

3. THINK CULTURALLY:
   - Â¿CÃ³mo busca la gente en [PAÃS]?
   - Â¿QuÃ© problemas reales tiene en la vida diaria?
   - Â¿QuÃ© preocupaciones tienen sobre [NICHO]?
   - Â¿QuÃ© tendencias afectan el mercado?
   - Â¿QuÃ© Ã©pocas del aÃ±o buscan mÃ¡s?

4. VARIEDADES DE KEYWORDS:
   - Marca + genÃ©rica
   - Preguntas (cÃ³mo, quÃ©, por quÃ©)
   - Long-tail especÃ­fico
   - Comparativas
   - How-to
   - Problemas

PARTE 1: TABLA COMPLETA DE KEYWORDS
===================================

| Ranking | Palabra Clave | BÃºsquedas/Mes | IntenciÃ³n | CategorÃ­a | Dificultad | URL Destino | JustificaciÃ³n |
|---------|---------------|---------------|-----------|-----------|------------|-------------|--------------|
| 1 | [kw] | [vol] | [int] | [cat] | [dif] | [url] | [razÃ³n] |
| ... | ... | ... | ... | ... | ... | ... | ... |

Genera TODOS los 100+ keywords en esta tabla.

PARTE 2: INPUTS ORGANIZADOS PARA FASE 4
======================================

AHORA, reorganiza todos los keywords por URL DESTINO.
Para CADA URL que vayas a crear, genera un bloque con esta estructura:

---
## URL: [URL-AMIGABLE]
### Tipo: [CALCULADORA / BLOG / HERRAMIENTA]
### Palabra Clave Primaria: [PRINCIPAL KW CON MÃS BÃšSQUEDAS]

**Volumen Total Estimado:** [suma de bÃºsquedas de todas las KW de esta URL]

**Palabras Clave a Atacar:**
1. [KW primaria] - [bÃºsquedas/mes] - TRANSACCIONAL
2. [KW secundaria] - [bÃºsquedas/mes] - INFORMATIVA
3. [KW LSI 1] - [bÃºsquedas/mes] - [intenciÃ³n]
4. [KW LSI 2] - [bÃºsquedas/mes] - [intenciÃ³n]
5. [KW long-tail] - [bÃºsquedas/mes] - [intenciÃ³n]
... (todas las keywords que destinen aquÃ­)

**IntenciÃ³n Principal:** [TRANSACCIONAL / INFORMATIVA / NAVEGACIONAL]

**DescripciÃ³n de Contenido Ideal:**
- Si es CALCULADORA: "[DescripciÃ³n de quÃ© calcula y para quiÃ©n]"
- Si es BLOG: "ArtÃ­culo educativo sobre [tema]. Responde: [preguntas principales]"
- Si es HERRAMIENTA: "[DescripciÃ³n de herramienta]"

**Estructura Sugerida (H2s para blogs):**
1. [H2 tema 1 - incluye KW LSI]
2. [H2 tema 2 - incluye KW LSI]
3. [H2 tema 3 - incluye KW LSI]
4. [H2 como usar calculadora / conclusiÃ³n]

**Inputs EspecÃ­ficos para IA (Fase 4):**

{
  "nombre_pagina": "[Nombre de pÃ¡gina]",
  "url_amigable": "[url-en-minusculas]",
  "tipo": "[CALCULADORA / BLOG / HERRAMIENTA]",
  "palabra_clave_principal": "[La KW con mÃ¡s bÃºsquedas]",
  "palabras_clave_lsi": ["kw1", "kw2", "kw3"],
  "descripcion": "[1-2 lÃ­neas quÃ© es la pÃ¡gina]",
  "intencion": "[TRANSACCIONAL / INFORMATIVA]",
  "volumen_total": [nÃºmero],
  "publico_objetivo": "[DescripciÃ³n del pÃºblico]",
  "cta_principal": "[BotÃ³n principal. Ej: 'Calcular ahora']",
  
  "si_es_calculadora": {
    "inputs_necesarios": ["Input 1 (unidad)", "Input 2 (unidad)"],
    "outputs_esperados": ["Output 1 (unidad)", "Output 2 (unidad)"],
    "formula_descripcion": "[Explica breve cÃ³mo calcula]"
  },
  
  "si_es_blog": {
    "longitud_palabras": 1500,
    "h2_principales": ["H2 1", "H2 2", "H2 3"],
    "incluir_ejemplos": true,
    "incluir_datos": true
  }
}

---

REPITE este bloque para CADA URL que pienses crear.

Si tienes 5 URLs, tendrÃ¡s 5 bloques.
Si tienes 20 URLs, tendrÃ¡s 20 bloques.

PARTE 3: RESUMEN EJECUTIVO
==========================

Al final, proporciona:

**Total URLs a crear:** [nÃºmero]
**Total Keywords identificadas:** [nÃºmero]
**Volumen combinado/mes:** [suma total]
**Dificultad promedio:** [BAJA/MEDIA/ALTA]

**RecomendaciÃ³n de Prioridad:**
- Crear PRIMERO: [URLs con prioridad 1]
- Crear SEGUNDO: [URLs con prioridad 2]
- Opcional: [URLs con prioridad baja]

RESPONDE CON:
1. Tabla completa de 100+ keywords
2. Bloques de inputs para CADA URL
3. Resumen ejecutivo

El formato de los bloques es CRÃTICO para que se copie directo en los prompts de Fase 4.`}
    />

    <InfoBox color="#22c55e" borderColor="#22c55e">
      <p style={{ color: "#4ade80", fontSize: 14, fontWeight: 700, margin: 0 }}>âœ… Checklist de salida â€” Fase 3</p>
      <div style={{ color: "#94a3b8", fontSize: 13, marginTop: 10, lineHeight: 2 }}>
        <div>â˜‘ 100+ keywords identificadas y justificadas</div>
        <div>â˜‘ Bloques JSON listos para copiar en Fase 4</div>
        <div>â˜‘ Agrupados por URL</div>
        <div>â˜‘ Toda la informaciÃ³n necesaria para crear cada pÃ¡gina</div>
      </div>
    </InfoBox>
    <InfoBox color="#f59e0b" borderColor="#f59e0b">
      <p style={{ color: "#fbbf24", fontSize: 13, margin: 0 }}>âš ï¸ <strong>IMPORTANTE:</strong> Cada bloque JSON es una "plantilla" que copiarÃ¡s en el prompt correcto de Fase 4. Guarda TODO en un documento.</p>
    </InfoBox>
  </>);
}

function Phase4Screen() {
  const [subTab, setSubTab] = useState("calc");
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Crear <strong style={{ color: "#f59e0b" }}>cada pÃ¡gina de tu sitio</strong> una por una: calculadoras, artÃ­culos de blog y herramientas/comparadores. Cada una como un archivo <code style={{ color: "#f59e0b" }}>.html</code> independiente.
    </p>

    <SectionTitle>ğŸ“ Flujo de trabajo (repite por cada URL)</SectionTitle>
    <StepList steps={[
      "Copia el bloque JSON correspondiente de la Fase 3",
      "Elige el prompt correcto: 4A (Calculadora), 4B (Blog), 4C (Herramienta)",
      "Reemplaza todos los campos [entre_corchetes] con tus datos",
      "Pega el prompt en tu IA y obtÃ©n el HTML completo",
      "Guarda como archivo [url_amigable].html",
      "Repite para la siguiente URL â€” sin lÃ­mite, crea tantas como necesites",
    ]} />

    <InfoBox color="#f59e0b" borderColor="#f59e0b">
      <p style={{ color: "#fbbf24", fontSize: 14, margin: 0, fontWeight: 700 }}>ğŸ’¡ No hay lÃ­mite. Puedes crear 5 URLs, 20 URLs, 100 URLs. Una por una.</p>
    </InfoBox>

    <SectionTitle>ğŸ“„ Elige el tipo de pÃ¡gina</SectionTitle>
    <div style={{ display: "flex", gap: 8, marginBottom: 24, flexWrap: "wrap" }}>
      {[
        { k: "calc", label: "âš™ï¸ Calculadora (4A)", c: "#3b82f6" },
        { k: "blog", label: "ğŸ“ Blog (4B)", c: "#8b5cf6" },
        { k: "tool", label: "ğŸ”§ Herramienta (4C)", c: "#ec4899" },
      ].map(t => (
        <button key={t.k} onClick={() => setSubTab(t.k)} style={{
          background: subTab === t.k ? t.c : "rgba(255,255,255,.05)",
          border: subTab === t.k ? "none" : "1px solid rgba(255,255,255,.1)",
          color: "#fff", padding: "12px 22px", borderRadius: 10, cursor: "pointer",
          fontSize: 14, fontWeight: 700, fontFamily: "inherit", transition: "all .2s",
        }}>{t.label}</button>
      ))}
    </div>

    {subTab === "calc" && (<>
      <PromptBlock title="PROMPT 4A â€” Generador de Calculadora HTML+JS (v3.0)" note="USO: Uno por cada calculadora. Repite para cada nueva." prompt={`=== GENERADOR DE CALCULADORA - HTML + JAVASCRIPT COMPLETO ===

DATOS DE LA CALCULADORA (Copia del bloque JSON de Fase 3):
========================================================

Nombre: [nombre_pagina]
URL amigable: /[url_amigable]/
Palabra clave principal: [palabra_clave_principal]
Palabras clave LSI: [palabras_clave_lsi]
DescripciÃ³n corta: [descripcion]
PÃºblico objetivo: [pÃºblico_objetivo]
CTA principal: [cta_principal]

INPUTS QUE NECESITA:
[si_es_calculadora.inputs_necesarios]

Ejemplo:
- Input 1: "Monto de prÃ©stamo (EUR)"
- Input 2: "Tasa de interÃ©s anual (%)"
- Input 3: "Plazo en aÃ±os"

OUTPUTS (RESULTADOS):
[si_es_calculadora.outputs_esperados]

Ejemplo:
- Output 1: "Cuota mensual (EUR)"
- Output 2: "InterÃ©s total pagado (EUR)"
- Output 3: "Costo total (EUR)"

CÃ“MO FUNCIONA:
[si_es_calculadora.formula_descripcion]

Ejemplo:
"Calcula cuota mensual usando fÃ³rmula financiera estÃ¡ndar."

ESPECIFICACIONES TÃ‰CNICAS:
==========================

1. DISEÃ‘O:
   - Colores: Gradiente azul (#667eea) a pÃºrpura (#764ba2)
   - Responsive: Se ve bien en mÃ³vil (375px) y desktop
   - Accesibilidad: Todos los inputs con labels claros

2. FUNCIONALIDAD:
   - Sin dependencias externas (vanilla JS)
   - ValidaciÃ³n de inputs (no negativos, no vacÃ­os)
   - Resultados con 2 decimales (si es EUR)
   - Error messages claros

3. SEO ON-PAGE:
   - <title>: "[palabra_clave_principal] - Calculadora Online Gratis"
   - <meta description>: "[descripcion]. RÃ¡pido, preciso y sin registro."
   - <h1>: "[nombre_pagina]"
   - Schema: WebApplication + Calculator
   - Alt text en imÃ¡genes

4. CONVERSIÃ“N:
   - BotÃ³n "[cta_principal]" prominente
   - Resultado con animaciÃ³n
   - Link a blog relacionado (opcional)
   - Descargo de responsabilidad

ESTRUCTURA HTML (OBLIGATORIA):

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[palabra_clave_principal] - Calculadora Online Gratis</title>
  <meta name="description" content="[descripcion]. RÃ¡pido, preciso y sin registro.">
  <style>
    [CSS PROFESIONAL CON COLORES ESPECIFICADOS]
  </style>
</head>
<body>
  <div class="container">
    <main class="calc-section">
      <h1>[nombre_pagina]</h1>
      <p class="subtitle">[descripcion]</p>
      
      <div class="input-group">
        <label for="input1">[Nombre input 1]</label>
        <input type="number" id="input1" placeholder="Ej: [ejemplo]">
      </div>
      
      [REPITE PARA CADA INPUT]
      
      <button onclick="calcular()">[cta_principal]</button>
      
      <div class="result" id="resultado">
        <div class="result-item">
          <span class="result-label">[Output 1]</span>
          <span class="result-value" id="res1">-</span>
        </div>
        [REPITE PARA CADA OUTPUT]
      </div>
      
      <div class="info-box">
        â„¹ï¸ Los resultados son aproximados. Consulta un asesor para decisiones financieras.
      </div>
    </main>
  </div>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "WebApplication",
    "name": "[nombre_pagina]",
    "description": "[descripcion]",
    "url": "https://tu-dominio.com/[url_amigable]/",
    "applicationCategory": "CalculatorApplication"
  }
  </script>

  <script>
    function calcular() {
      var input1 = parseFloat(document.getElementById("input1").value);
      var input2 = parseFloat(document.getElementById("input2").value);
      var input3 = parseFloat(document.getElementById("input3").value);
      
      if (!input1 || !input2 || !input3) {
        alert("Por favor completa todos los campos");
        return;
      }
      
      [AQUÃ VA LA LÃ“GICA DEL CÃLCULO]
      
      document.getElementById("res1").textContent = resultado1;
      document.getElementById("res2").textContent = resultado2;
      document.getElementById("res3").textContent = resultado3;
      document.getElementById("resultado").classList.add("show");
    }
  </script>
</body>
</html>

REQUISITOS DE CALIDAD:
======================

âœ… El cÃ³digo funciona al copiarlo tal cual
âœ… ValidaciÃ³n de inputs (error si vacÃ­o)
âœ… Resultados matemÃ¡ticamente correctos
âœ… Sin console.log() (cÃ³digo limpio)
âœ… Mobile first (se ve perfecto en 375px)
âœ… Gradiente profesional
âœ… Sin errores ortogrÃ¡ficos

GENERA AHORA:

1. HTML COMPLETO (copy-paste ready)
2. CSS profesional inline
3. JavaScript funcional
4. Meta tags SEO optimizados
5. Schema JSON-LD correcto

El output debe ser UN ÃšNICO BLOQUE HTML que se guarde como .html y funcione.

Incluye comentarios sobre dÃ³nde personalizar si el usuario quiere cambiar inputs.`} />
      <InfoBox color="#3b82f6" borderColor="#3b82f6">
        <p style={{ color: "#60a5fa", fontSize: 13, margin: 0 }}>â± <strong>5-8 min</strong> por calculadora â†’ Guarda como <code style={{ color: "#60a5fa" }}>[url_amigable].html</code></p>
      </InfoBox>
    </>)}

    {subTab === "blog" && (<>
      <PromptBlock title="PROMPT 4B â€” Generador de ArtÃ­culo Blog HTML+SEO (v3.0)" note="USO: Uno por cada artÃ­culo. Repite para cada nuevo blog." prompt={`=== GENERADOR DE ARTÃCULO BLOG - HTML COMPLETO ===

DATOS DEL ARTÃCULO (Copia del bloque JSON de Fase 3):
====================================================

Nombre/TÃ­tulo: [nombre_pagina]
URL amigable: /[url_amigable]/
Palabra clave principal: [palabra_clave_principal]
Palabras clave LSI: [palabras_clave_lsi]
DescripciÃ³n: [descripcion]
IntenciÃ³n de bÃºsqueda: [intenciÃ³n]
PÃºblico objetivo: [pÃºblico_objetivo]
Longitud: [si_es_blog.longitud_palabras] palabras
H2 principales: [si_es_blog.h2_principales]
Incluir ejemplos: [si_es_blog.incluir_ejemplos]
Incluir datos: [si_es_blog.incluir_datos]

OBJETIVO:
Crear artÃ­culo blog COMPLETO en HTML que:
1. Ranquee en Google para palabra clave objetivo
2. Eduque a la audiencia (no sea vendedor)
3. Lleve trÃ¡fico a calculadoras relacionadas
4. SEO perfecto (estructura H2/H3, densidad KW, etc.)
5. Engagement alto (pÃ¡rrafos cortos, ejemplos, datos)

ESTRUCTURA REQUERIDA:
====================

[INTRO - 80-120 palabras]
- Engancha con problema relatable
- Promete soluciÃ³n especÃ­fica
- Incluye palabra clave principal (NATURAL)

[H2: SUBTEMA 1 - 250-350 palabras]
- Resuelve una parte del problema
- Incluye palabra clave LSI #1 (1-2 veces NATURAL)
- Dato, estadÃ­stica o ejemplo concreto
- PÃ¡rrafos cortos (mÃ¡x 3 lÃ­neas)

[H2: SUBTEMA 2 - 250-350 palabras]
- Profundiza mÃ¡s
- Incluye palabra clave LSI #2
- Casos de uso o ejemplos del mundo real
- Al menos 1 nÃºmero/dato

[H2: SUBTEMA 3 - 250-350 palabras]
- Resuelve Ãºltima parte
- Incluye palabra clave LSI #3
- PrevÃ© objeciones del lector
- Prepara para CTA

[H2: CÃ“MO USAR NUESTRA CALCULADORA - 150-200 palabras]
- CÃ³mo acceder
- Paso a paso (3-5 pasos)
- QuÃ© esperar
- INCLUIR LINK A CALCULADORA RELACIONADA

[CONCLUSIÃ“N - 100-150 palabras]
- Resume puntos principales
- Reforce palabra clave
- CTA final a calculadora
- Link prominente

ESPECIFICACIONES SEO:
====================

Title tag (60 caracteres mÃ¡x):
[nombre_pagina] | GuÃ­a 2025

Meta description (155 caracteres mÃ¡x):
[descripcion]. Aprende ahora.

Estructura de headers:
- 1x H1 (tÃ­tulo principal)
- 4-5x H2 (subtemas)
- 0-3x H3 (si aplica)

Densidad de palabras clave:
- Palabra clave principal: 0.5-1% (1-2 veces, natural)
- Palabras clave LSI: 0.3-0.5% cada una (natural)

Internal linking:
- MÃ­nimo 2 links a calculadora(s) (contextual)
- MÃ¡ximo 1 link a otro artÃ­culo

ESPECIFICACIONES DE CONTENIDO:
==============================

1. TONO:
   - Conversacional (como explicar a un amigo)
   - Evitar jerga tÃ©cnica
   - Usa "tÃº/usted" (segundo persona)
   - Emojis: 0-2 mÃ¡ximo

2. FORMATO:
   - PÃ¡rrafos de 2-3 oraciones mÃ¡ximo
   - Listas de puntos (cuando aplique)
   - NÃºmeros y datos verificables
   - Ejemplos concretos

3. CALIDAD:
   - Sin relleno
   - Sin spam de keywords
   - InformaciÃ³n verificable
   - Actualizado para 2025

ESTRUCTURA HTML (OBLIGATORIA):

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[nombre_pagina] | GuÃ­a 2025</title>
  <meta name="description" content="[descripcion]. Aprende ahora.">
  <style>
    [CSS PROFESIONAL]
  </style>
</head>
<body>
  <div class="container">
    <article>
      <h1>[nombre_pagina]</h1>
      <p class="intro">[INTRODUCCIÃ“N 80-120 palabras]</p>
      
      <h2>[SUBTEMA 1]</h2>
      <p>[CONTENIDO 250-350 palabras, incluye palabra clave LSI]</p>
      
      <h2>[SUBTEMA 2]</h2>
      <p>[CONTENIDO 250-350 palabras, incluye palabra clave LSI]</p>
      
      <h2>[SUBTEMA 3]</h2>
      <p>[CONTENIDO 250-350 palabras, incluye palabra clave LSI]</p>
      
      <h2>CÃ³mo Usar Nuestra Calculadora</h2>
      <p>[PASO A PASO CON LINK A CALCULADORA]</p>
      <p><a href="/[url-calculadora]/">Ir a la calculadora â†’</a></p>
      
      <h2>ConclusiÃ³n</h2>
      <p>[CONCLUSIÃ“N CON CTA FINAL A CALCULADORA]</p>
    </article>
  </div>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "[nombre_pagina]",
    "description": "[descripcion]",
    "datePublished": "2025-02-07",
    "author": {
      "@type": "Organization",
      "name": "[Nombre tu sitio]"
    }
  }
  </script>
</body>
</html>

GENERA AHORA:

1. ArtÃ­culo COMPLETO con estructura anterior
2. HTML listo para copiar y pegar
3. Meta tags perfecto
4. Schema JSON-LD para blog
5. Links a calculadora naturales y contextuales

El output debe ser UN ÃšNICO BLOQUE HTML que funcione.`} />
      <InfoBox color="#8b5cf6" borderColor="#8b5cf6">
        <p style={{ color: "#a78bfa", fontSize: 13, margin: 0 }}>â± <strong>8-10 min</strong> por artÃ­culo â†’ Guarda como <code style={{ color: "#a78bfa" }}>blog-[url_amigable].html</code></p>
      </InfoBox>
    </>)}

    {subTab === "tool" && (<>
      <PromptBlock title="PROMPT 4C â€” Generador de Herramienta/Comparador HTML (v3.0)" note="USO: Para herramientas, comparadores, o pÃ¡ginas interactivas." prompt={`=== GENERADOR DE HERRAMIENTA/COMPARADOR - HTML COMPLETO ===

DATOS (Copia del bloque JSON de Fase 3):
========================================

Nombre: [nombre_pagina]
URL: /[url_amigable]/
Palabra clave: [palabra_clave_principal]
DescripciÃ³n: [descripcion]
PÃºblico: [pÃºblico_objetivo]
CTA: [cta_principal]

OBJETIVO:
Crear pÃ¡gina INTERACTIVA completa con:
1. HTML profesional y responsive
2. Funcionalidad JavaScript (sin dependencias)
3. SEO optimizado
4. ConversiÃ³n alta

ESTRUCTURA:

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[palabra_clave_principal] - Comparador Online</title>
  <meta name="description" content="[descripcion]">
  <style>[CSS PROFESIONAL]</style>
</head>
<body>
  <div class="container">
    <main>
      <h1>[nombre_pagina]</h1>
      <p>[descripcion]</p>
      
      [CREA LA INTERFAZ SEGÃšN LA HERRAMIENTA]
      
      <button onclick="procesar()">[cta_principal]</button>
      
      <div class="result" id="resultado">
        [MUESTRA RESULTADOS]
      </div>
    </main>
  </div>
  
  <script>
    function procesar() {
      // [LÃ“GICA DE LA HERRAMIENTA]
    }
  </script>
</body>
</html>

GENERA AHORA HTML COMPLETO Y FUNCIONAL.`} />
      <InfoBox color="#ec4899" borderColor="#ec4899">
        <p style={{ color: "#f472b6", fontSize: 13, margin: 0 }}>â± <strong>10-12 min</strong> por herramienta â†’ Guarda como <code style={{ color: "#f472b6" }}>[url_amigable].html</code></p>
      </InfoBox>
    </>)}
  </>);
}

function Phase5Screen() {
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Crear las <strong style={{ color: "#f59e0b" }}>3 pÃ¡ginas legales obligatorias</strong>: PolÃ­tica de Privacidad, TÃ©rminos de Servicio y Aviso Legal. Cumplimiento RGPD/LOPD.
    </p>

    <SectionTitle>ğŸ“ Pasos a seguir</SectionTitle>
    <StepList steps={[
      "Ejecuta el prompt 3 veces, cambiando [TIPO-PAGINA] cada vez",
      "Primera vez: POLÃTICA DE PRIVACIDAD â†’ guarda como polÃ­tica-privacidad.html",
      "Segunda vez: TÃ‰RMINOS DE SERVICIO â†’ guarda como tÃ©rminos-servicio.html",
      "Tercera vez: AVISO LEGAL â†’ guarda como aviso-legal.html",
    ]} />

    <SectionTitle>ğŸ“„ Prompt: Generador de PÃ¡ginas Legales (v2.0)</SectionTitle>
    <PromptBlock title="PROMPT 5 â€” Generador de PÃ¡ginas Legales" note="Repite 3 veces cambiando [TIPO-PAGINA]. Personaliza: [NOMBRE-SITIO], [DOMINIO], [EMAIL-CONTACTO], [PAÃS]" prompt={`=== GENERADOR DE PÃGINAS LEGALES ===

PARÃMETROS:
===========

Nombre sitio: [NOMBRE-SITIO]
Dominio: [DOMINIO]
Email contacto: [EMAIL-CONTACTO]
PaÃ­s: [PAÃS]
Tipo de pÃ¡gina: [POLÃTICA PRIVACIDAD / TÃ‰RMINOS DE SERVICIO / AVISO LEGAL]

INSTRUCCIONES:

Crea una pÃ¡gina HTML COMPLETA y LEGAL para [TIPO-PAGINA].

IMPORTANTE:
- Incluye TODA la informaciÃ³n necesaria para cumplir con RGPD/LOPD
- Menciona: cookies, datos personales, derechos usuario
- Incluye secciones especÃ­ficas para [PAÃS]
- Profesional pero entendible
- Formato HTML con estructura clara

ESTRUCTURA POR TIPO:

--- SI ES POLÃTICA DE PRIVACIDAD ---

1. IntroducciÃ³n
2. Responsable del tratamiento
3. Base legal
4. Datos que se recopilan
5. Derechos del usuario
6. Cookies
7. Cambios de la polÃ­tica
8. Contacto

--- SI SON TÃ‰RMINOS DE SERVICIO ---

1. AceptaciÃ³n de tÃ©rminos
2. Uso del sitio
3. Propiedad intelectual
4. LimitaciÃ³n de responsabilidad
5. ClÃ¡usulas de renuncia
6. ModificaciÃ³n de tÃ©rminos
7. JurisdicciÃ³n
8. Contacto

--- SI ES AVISO LEGAL ---

1. IdentificaciÃ³n del sitio
2. Responsabilidad
3. Propiedad intelectual
4. LimitaciÃ³n de responsabilidad
5. ExclusiÃ³n de garantÃ­as
6. Cookies y tracking
7. Cambios en el sitio
8. Contacto y jurisdicciÃ³n

ESTRUCTURA HTML (TODAS LAS PÃGINAS):

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[TIPO-PAGINA] - [NOMBRE-SITIO]</title>
  <meta name="description" content="[TIPO-PAGINA] de [NOMBRE-SITIO]">
  <style>
    [CSS SIMPLE, MISMO ESTILO QUE OTRAS PÃGINAS]
  </style>
</head>
<body>
  <div class="container">
    <main class="legal-content">
      <h1>[TIPO-PAGINA]</h1>
      
      <p><strong>Ãšltima actualizaciÃ³n:</strong> 7 de febrero de 2025</p>
      
      <h2>1. SecciÃ³n 1</h2>
      <p>[CONTENIDO]</p>
      
      <h2>2. SecciÃ³n 2</h2>
      <p>[CONTENIDO]</p>
      
      [REPITE PARA OTRAS SECCIONES]
      
      <h2>Contacto</h2>
      <p>Si tienes preguntas, contÃ¡ctanos en: <a href="mailto:[EMAIL-CONTACTO]">[EMAIL-CONTACTO]</a></p>
    </main>
  </div>
</body>
</html>

GENERA AHORA HTML COMPLETO Y LEGAL.

IMPORTANTE:
- No es asesoramiento legal (disclaimer)
- Debe cumplir con RGPD/LOPD [PAÃS]
- Profesional y completo
- Listo para publicar`} />

    <InfoBox color="#ef4444" borderColor="#ef4444">
      <p style={{ color: "#f87171", fontSize: 14, fontWeight: 700, margin: 0 }}>âš ï¸ Disclaimer</p>
      <p style={{ color: "#94a3b8", fontSize: 13, marginTop: 8, marginBottom: 0 }}>Estas pÃ¡ginas NO reemplazan asesoramiento legal. Para sitios con usuarios en UE, es recomendable consultar a un abogado especializado en protecciÃ³n de datos.</p>
    </InfoBox>
  </>);
}

function Phase6Screen() {
  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Crear la <strong style={{ color: "#f59e0b" }}>pÃ¡gina de inicio</strong> (hero + grid de calculadoras + blog preview) y el <strong style={{ color: "#f59e0b" }}>header/footer compartido</strong> que usarÃ¡n todas las pÃ¡ginas.
    </p>

    <SectionTitle>ğŸ“ Pasos a seguir</SectionTitle>
    <StepList steps={[
      "Primero: crea la pÃ¡gina de inicio con el Prompt 6 â†’ guarda como index.html",
      "Segundo: crea el header/footer con el Prompt 7 â†’ guarda como header-footer.html",
      "El header-footer.html se carga en todas las pÃ¡ginas vÃ­a <iframe>",
    ]} />

    <SectionTitle>ğŸ“„ Prompt 6: PÃ¡gina de Inicio (v3.0)</SectionTitle>
    <PromptBlock title="PROMPT 6 â€” Generador de PÃ¡gina Inicio HTML" note="Personaliza: [NOMBRE-SITIO], [TAGLINE-CORTO], [DESCRIPCIÃ“N-LARGA], [URLS-CALCULADORAS], [URLS-ARTICULOS-BLOG]" prompt={`=== GENERADOR DE PÃGINA INICIO - HTML COMPLETO ===

DATOS:
======

Nombre del sitio: [NOMBRE-SITIO]
Tagline (1 lÃ­nea): [TAGLINE-CORTO]
DescripciÃ³n larga: [DESCRIPCIÃ“N-LARGA]

Calculadoras a mostrar (nombre | URL):
[URLS-CALCULADORAS]

Ejemplo:
- Calculadora 1 | /calc-1/
- Calculadora 2 | /calc-2/
- Calculadora 3 | /calc-3/

ArtÃ­culos blog (nombre | URL):
[URLS-ARTICULOS-BLOG]

Ejemplo:
- ArtÃ­culo 1 | /blog-1/
- ArtÃ­culo 2 | /blog-2/

ESTRUCTURA:

1. HERO SECTION (impacto)
2. GRID DE CALCULADORAS (cards interactivas)
3. CARACTERÃSTICAS (por quÃ© elegirnos)
4. PREVIEW DE BLOG (Ãºltimos artÃ­culos)
5. FOOTER (se cargarÃ¡ vÃ­a iframe)

GENERA HTML COMPLETO, HERMOSO Y RESPONSIVE.

Colores: Gradiente azul (#667eea) a pÃºrpura (#764ba2)
DiseÃ±o: Moderno, limpio, profesional
Mobile: Se ve perfecto en 375px`} />

    <SectionTitle>ğŸ“„ Prompt 7: Header & Footer Compartido (v2.0)</SectionTitle>
    <PromptBlock title="PROMPT 7 â€” Generador de Header & Footer" note="Personaliza: [NOMBRE-MARCA], [DOMINIO], [URLS-MENU]" prompt={`=== GENERADOR DE HEADER & FOOTER COMPARTIDO ===

DATOS:
======

Nombre de marca: [NOMBRE-MARCA]
Dominio: [DOMINIO]

Links del menÃº (nombre | URL):
[URLS-MENU]

Ejemplo:
- Inicio | /
- Calculadoras | /#calculadoras
- Blog | /blog
- Privacidad | /politica-privacidad/
- TÃ©rminos | /terminos-servicio/

ESPECIFICACIONES:
=================

HEADER:
- Sticky (se queda arriba)
- Gradiente #667eea â†’ #764ba2
- Texto blanco
- Logo a la izquierda
- Menu a la derecha (desktop)
- Responsive (mÃ³vil simplificado)

FOOTER:
- Fondo #1a1a1a
- Texto #999
- Multiple columnas con links
- Copyright
- Hover effects

ESTRUCTURA:

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <style>[CSS COMPLETO AQUÃ]</style>
</head>
<body>

<header>
  <div class="header-container">
    <a href="/" class="logo">[NOMBRE-MARCA]</a>
    <nav>
      <ul>
        [LINKS DEL MENÃš AQUÃ]
      </ul>
    </nav>
  </div>
</header>

<footer>
  <div class="footer-container">
    [COLUMNAS DE LINKS AQUÃ]
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 [NOMBRE-MARCA]. Todos los derechos reservados.</p>
  </div>
</footer>

</body>
</html>

GENERA HTML COMPLETO CON HEADER Y FOOTER.`} />

    <InfoBox color="#f59e0b" borderColor="#f59e0b">
      <p style={{ color: "#94a3b8", fontSize: 13, margin: 0 }}>ğŸ“Œ El <code style={{ color: "#f59e0b" }}>header-footer.html</code> se cargarÃ¡ en TODAS las pÃ¡ginas vÃ­a <code style={{ color: "#f59e0b" }}>&lt;iframe src="/header-footer.html"&gt;</code></p>
    </InfoBox>
  </>);
}

function Phase7Screen() {
  const qaCategories = [
    { title: "Funcionalidad", items: ["Todas las calculadoras funcionan (probÃ© con nÃºmeros reales)","Resultados son matemÃ¡ticamente precisos","ValidaciÃ³n de inputs funciona","Se ve bien en mÃ³vil (375px)","Se ve bien en desktop (1200px+)","Header/Footer se carga en TODAS las pÃ¡ginas","No hay 404 errors"] },
    { title: "SEO", items: ["Cada pÃ¡gina tiene <title> Ãºnico con palabra clave","Cada pÃ¡gina tiene <meta description> Ãºnico","Una sola <h1> por pÃ¡gina","H2/H3 estructurados lÃ³gicamente","URLs amigables","Schema JSON-LD en cada pÃ¡gina","Images con alt text","Sitemap.xml creado","Internal links funcionan"] },
    { title: "Contenido", items: ["Sin errores ortogrÃ¡ficos","Copy profesional","Links internos funcionan","CTAs claros y visibles","InformaciÃ³n verificable","PÃ¡gina legal incluida"] },
    { title: "Rendimiento", items: ["Sitio carga en < 3 segundos","Sin errores en consola","Sin dependencias externas","CSS es minimal"] },
    { title: "Legal", items: ["PolÃ­tica de privacidad presente","TÃ©rminos de servicio presentes","Aviso legal presente","Links a legales en footer"] },
  ];
  const [checks, setChecks] = useState({});
  const totalItems = qaCategories.reduce((s, c) => s + c.items.length, 0);
  const checkedCount = Object.values(checks).filter(Boolean).length;
  const pct = Math.round((checkedCount / totalItems) * 100);

  return (<>
    <SectionTitle>ğŸ¯ Objetivo</SectionTitle>
    <p style={{ color: "#94a3b8", fontSize: 14, lineHeight: 1.8 }}>
      Revisar <strong style={{ color: "#f59e0b" }}>TODO</strong> el sitio con el checklist de QA, verificar que funciona correctamente, y <strong style={{ color: "#22c55e" }}>publicar en Cloudflare Pages</strong>.
    </p>

    <SectionTitle>âœ… Checklist de QA ({checkedCount}/{totalItems})</SectionTitle>
    <div style={{ marginBottom: 16 }}>
      <div style={{ height: 8, background: "rgba(255,255,255,.05)", borderRadius: 4 }}>
        <div style={{ height: "100%", width: `${pct}%`, background: pct === 100 ? "#22c55e" : "linear-gradient(90deg,#f59e0b,#ef4444)", borderRadius: 4, transition: "width .4s" }} />
      </div>
      <p style={{ color: pct === 100 ? "#22c55e" : "#64748b", fontSize: 12, marginTop: 6, fontFamily: "'Space Mono',monospace" }}>{pct}% completado</p>
    </div>

    {qaCategories.map((cat, ci) => (
      <div key={ci} style={{ marginBottom: 20 }}>
        <h4 style={{ color: "#cbd5e1", fontSize: 14, marginBottom: 6 }}>{cat.title}</h4>
        {cat.items.map((item, ii) => {
          const key = `${ci}-${ii}`;
          return <CheckItem key={key} label={item} checked={!!checks[key]} onChange={() => setChecks(p => ({ ...p, [key]: !p[key] }))} />;
        })}
      </div>
    ))}

    <SectionTitle>ğŸ“‹ Estructura Final de Carpetas</SectionTitle>
    <pre style={{ background: "rgba(0,0,0,.4)", border: "1px solid rgba(255,255,255,.05)", borderRadius: 10, padding: 18, color: "#94a3b8", fontSize: 13, lineHeight: 1.8, fontFamily: "'JetBrains Mono','Fira Code',monospace", overflowX: "auto" }}>{`/tu-sitio-seo/
â”œâ”€â”€ index.html (pÃ¡gina inicio)
â”œâ”€â”€ header-footer.html (compartido)
â”‚
â”œâ”€â”€ calculadoras/
â”‚   â”œâ”€â”€ hypothekenrechner.html
â”‚   â”œâ”€â”€ kreditrechner.html
â”‚   â””â”€â”€ ... (tantas como necesites)
â”‚
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ blog-calcular-cuota.html
â”‚   â””â”€â”€ ... (tantos como necesites)
â”‚
â”œâ”€â”€ herramientas/
â”‚   â””â”€â”€ comparador.html
â”‚
â”œâ”€â”€ legal/
â”‚   â”œâ”€â”€ politica-privacidad.html
â”‚   â”œâ”€â”€ terminos-servicio.html
â”‚   â””â”€â”€ aviso-legal.html
â”‚
â”œâ”€â”€ sitemap.xml
â””â”€â”€ robots.txt (opcional)`}</pre>

    <SectionTitle>ğŸš€ Publicar en Cloudflare (5-10 min)</SectionTitle>
    <StepList steps={[
      "Abre cloudflare.com",
      "Pages â†’ Crear Proyecto",
      "Direct Upload â†’ Selecciona TODOS tus archivos",
      "Deploy",
      "Conecta tu dominio (si lo compraste en Cloudflare)",
    ]} />
  </>);
}

const PHASE_SCREENS = [Phase1Screen, Phase2Screen, Phase3Screen, Phase4Screen, Phase5Screen, Phase6Screen, Phase7Screen];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN APP
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
export default function App() {
  const [completed, setCompleted] = useState([]);
  const [activePhase, setActivePhase] = useState(null);
  const [showBadge, setShowBadge] = useState(null);
  const topRef = useRef(null);

  const xpEarned = completed.reduce((s, id) => s + (PHASES.find(p => p.id === id)?.xp || 0), 0);
  const pctTotal = Math.round((xpEarned / TOTAL_XP) * 100);
  const level = completed.length === 0 ? "NOVATO" : completed.length <= 2 ? "APRENDIZ" : completed.length <= 4 ? "PRO" : completed.length <= 6 ? "EXPERTO" : "MAESTRO SEO";
  const allDone = completed.length === PHASES.length;

  const completePhase = (id) => {
    if (completed.includes(id)) return;
    const p = PHASES.find(ph => ph.id === id);
    setCompleted(prev => [...prev, id]);
    setShowBadge(p);
  };

  const openPhase = (id) => { setActivePhase(id); };
  const goBack = () => { setActivePhase(null); };

  useEffect(() => { if (topRef.current) topRef.current.scrollIntoView({ behavior: "smooth" }); }, [activePhase]);

  /* â”€â”€â”€ PHASE DETAIL SCREEN â”€â”€â”€ */
  if (activePhase !== null) {
    const phase = PHASES.find(p => p.id === activePhase);
    const done = completed.includes(phase.id);
    const PhaseScreen = PHASE_SCREENS[phase.id - 1];
    const nextPhase = PHASES.find(p => p.id === phase.id + 1);

    return (
      <div ref={topRef} style={{ minHeight: "100vh", background: "#080c14", color: "#e2e8f0", fontFamily: "'DM Sans','Segoe UI',system-ui,sans-serif" }}>
        <style>{`
          @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,500;0,9..40,700;0,9..40,800;1,9..40,400&family=Space+Mono:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap');
          @keyframes fadeIn{from{opacity:0}to{opacity:1}}
          @keyframes popIn{from{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}
          *{box-sizing:border-box;margin:0;padding:0}
          ::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:rgba(255,255,255,.03)}::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:3px}
        `}</style>

        {showBadge && <BadgePopup badge={showBadge.badge} icon={showBadge.badgeIcon} onClose={() => setShowBadge(null)} />}

        {/* Top bar */}
        <div style={{ background: "rgba(0,0,0,.4)", borderBottom: "1px solid rgba(255,255,255,.06)", padding: "12px 20px", display: "flex", alignItems: "center", justifyContent: "space-between", position: "sticky", top: 0, zIndex: 100, backdropFilter: "blur(12px)" }}>
          <button onClick={goBack} style={{ background: "rgba(255,255,255,.06)", border: "1px solid rgba(255,255,255,.1)", color: "#94a3b8", padding: "8px 18px", borderRadius: 8, cursor: "pointer", fontSize: 13, fontFamily: "inherit", fontWeight: 600 }}>â† Volver al mapa</button>
          <div style={{ display: "flex", alignItems: "center", gap: 12 }}>
            <span style={{ color: "#f59e0b", fontSize: 12, fontWeight: 700, fontFamily: "'Space Mono',monospace" }}>{xpEarned} XP</span>
            <div style={{ width: 80, height: 6, background: "rgba(255,255,255,.06)", borderRadius: 3 }}>
              <div style={{ height: "100%", width: `${pctTotal}%`, background: "linear-gradient(90deg,#f59e0b,#ef4444)", borderRadius: 3, transition: "width .5s" }} />
            </div>
          </div>
        </div>

        {/* Phase header */}
        <div style={{ padding: "48px 20px 0", maxWidth: 780, margin: "0 auto" }}>
          <div style={{ display: "flex", alignItems: "center", gap: 14, marginBottom: 8 }}>
            <span style={{ fontSize: 36 }}>{phase.icon}</span>
            <div>
              <div style={{ color: "#64748b", fontSize: 12, fontWeight: 700, letterSpacing: 2, fontFamily: "'Space Mono',monospace" }}>FASE {phase.id} DE {PHASES.length}</div>
              <h1 style={{ fontSize: "clamp(22px,4vw,32px)", fontWeight: 800, color: "#f1f5f9", lineHeight: 1.2, marginTop: 4 }}>{phase.title}</h1>
            </div>
          </div>
          <p style={{ color: "#64748b", fontSize: 15, marginBottom: 12 }}>{phase.subtitle}</p>
          <div style={{ display: "flex", gap: 10, flexWrap: "wrap", marginBottom: 32 }}>
            <span style={{ background: "rgba(255,255,255,.04)", border: "1px solid rgba(255,255,255,.08)", borderRadius: 8, padding: "5px 14px", fontSize: 12, color: "#64748b", fontFamily: "'Space Mono',monospace" }}>â± {phase.time}</span>
            <span style={{ background: done ? "rgba(34,197,94,.1)" : "rgba(245,158,11,.1)", border: `1px solid ${done ? "rgba(34,197,94,.2)" : "rgba(245,158,11,.2)"}`, borderRadius: 8, padding: "5px 14px", fontSize: 12, color: done ? "#4ade80" : "#f59e0b", fontWeight: 700, fontFamily: "'Space Mono',monospace" }}>{done ? "âœ“ COMPLETADA" : `+${phase.xp} XP`}</span>
            <span style={{ background: "rgba(255,255,255,.04)", border: "1px solid rgba(255,255,255,.08)", borderRadius: 8, padding: "5px 14px", fontSize: 12, color: "#64748b", fontFamily: "'Space Mono',monospace" }}>ğŸ¯ {phase.output}</span>
          </div>
        </div>

        {/* Phase body */}
        <div style={{ maxWidth: 780, margin: "0 auto", padding: "0 20px 60px", animation: "fadeIn .4s" }}>
          <PhaseScreen />

          {/* Complete / Next buttons */}
          <div style={{ marginTop: 40, display: "flex", flexDirection: "column", gap: 12 }}>
            {!done && (
              <button onClick={() => completePhase(phase.id)} style={{
                width: "100%", padding: "18px 24px",
                background: "linear-gradient(135deg,#f59e0b,#d97706)", border: "none", borderRadius: 14,
                color: "#000", fontSize: 16, fontWeight: 800, cursor: "pointer",
                fontFamily: "'Space Mono',monospace", letterSpacing: 1,
              }}>âœ… COMPLETAR FASE {phase.id} â€” RECLAMAR +{phase.xp} XP</button>
            )}
            {done && nextPhase && (
              <button onClick={() => openPhase(nextPhase.id)} style={{
                width: "100%", padding: "18px 24px",
                background: "linear-gradient(135deg,#22c55e,#16a34a)", border: "none", borderRadius: 14,
                color: "#fff", fontSize: 16, fontWeight: 800, cursor: "pointer",
                fontFamily: "'Space Mono',monospace", letterSpacing: 1,
              }}>â†’ AVANZAR A FASE {nextPhase.id}: {nextPhase.title}</button>
            )}
            {done && !nextPhase && (
              <button onClick={goBack} style={{
                width: "100%", padding: "18px 24px",
                background: "linear-gradient(135deg,#22c55e,#16a34a)", border: "none", borderRadius: 14,
                color: "#fff", fontSize: 16, fontWeight: 800, cursor: "pointer",
                fontFamily: "'Space Mono',monospace", letterSpacing: 1,
              }}>ğŸ† VER RESUMEN FINAL</button>
            )}
          </div>
        </div>
      </div>
    );
  }

  /* â”€â”€â”€ MAP SCREEN (Hub) â”€â”€â”€ */
  return (
    <div ref={topRef} style={{ minHeight: "100vh", background: "#080c14", color: "#e2e8f0", fontFamily: "'DM Sans','Segoe UI',system-ui,sans-serif" }}>
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,500;0,9..40,700;0,9..40,800;1,9..40,400&family=Space+Mono:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap');
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        @keyframes popIn{from{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}
        @keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(245,158,11,.35)}50%{box-shadow:0 0 0 10px rgba(245,158,11,0)}}
        @keyframes glow{0%,100%{text-shadow:0 0 20px rgba(245,158,11,.3)}50%{text-shadow:0 0 40px rgba(245,158,11,.6)}}
        *{box-sizing:border-box;margin:0;padding:0}
        ::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:rgba(255,255,255,.03)}::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:3px}
      `}</style>

      {showBadge && <BadgePopup badge={showBadge.badge} icon={showBadge.badgeIcon} onClose={() => setShowBadge(null)} />}

      {/* HERO */}
      <div style={{ background: "linear-gradient(170deg,#0c1220,#0a0f1a 40%,#111827)", borderBottom: "1px solid rgba(255,255,255,.04)", padding: "56px 20px 52px", textAlign: "center", position: "relative", overflow: "hidden" }}>
        <div style={{ position: "absolute", inset: 0, opacity: .04, backgroundImage: "linear-gradient(rgba(255,255,255,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.1) 1px,transparent 1px)", backgroundSize: "48px 48px" }} />
        <div style={{ position: "relative", maxWidth: 700, margin: "0 auto" }}>
          <div style={{ display: "inline-block", background: "rgba(245,158,11,.1)", border: "1px solid rgba(245,158,11,.25)", borderRadius: 8, padding: "6px 16px", fontSize: 12, fontWeight: 700, color: "#f59e0b", letterSpacing: 2, marginBottom: 20, fontFamily: "'Space Mono',monospace" }}>PROFESSIONAL v2</div>
          <h1 style={{ fontSize: "clamp(28px,5vw,44px)", fontWeight: 800, lineHeight: 1.15, marginBottom: 16, background: "linear-gradient(135deg,#f1f5f9,#94a3b8)", WebkitBackgroundClip: "text", WebkitTextFillColor: "transparent" }}>
            Nichos SEO de Calculadoras
          </h1>
          <p style={{ fontSize: "clamp(15px,2.5vw,18px)", color: "#64748b", marginBottom: 36, lineHeight: 1.6 }}>
            De <strong style={{ color: "#f59e0b" }}>IDEA</strong> a <strong style={{ color: "#22c55e" }}>SITIO PUBLICADO</strong> en 2.5-3 Horas
          </p>

          {/* XP */}
          <div style={{ maxWidth: 420, margin: "0 auto" }}>
            <div style={{ display: "flex", justifyContent: "space-between", alignItems: "baseline", marginBottom: 8 }}>
              <span style={{ color: "#f59e0b", fontWeight: 700, fontSize: 14, fontFamily: "'Space Mono',monospace", animation: completed.length > 0 ? "glow 2s infinite" : "none" }}>LVL: {level}</span>
              <span style={{ color: "#64748b", fontSize: 13, fontFamily: "'Space Mono',monospace" }}>{xpEarned}/{TOTAL_XP} XP</span>
            </div>
            <div style={{ height: 10, background: "rgba(255,255,255,.04)", borderRadius: 5, border: "1px solid rgba(255,255,255,.06)", overflow: "hidden" }}>
              <div style={{ height: "100%", width: `${pctTotal}%`, background: pctTotal === 100 ? "linear-gradient(90deg,#22c55e,#16a34a)" : "linear-gradient(90deg,#f59e0b,#ef4444,#ec4899)", borderRadius: 5, transition: "width .8s cubic-bezier(.22,1,.36,1)", boxShadow: pctTotal > 0 ? "0 0 12px rgba(245,158,11,.3)" : "none" }} />
            </div>
            <div style={{ display: "flex", justifyContent: "space-between", marginTop: 6 }}>
              <span style={{ color: "#475569", fontSize: 11, fontFamily: "'Space Mono',monospace" }}>{completed.length}/{PHASES.length} fases</span>
              <span style={{ color: "#475569", fontSize: 11, fontFamily: "'Space Mono',monospace" }}>{pctTotal}%</span>
            </div>
          </div>

          {/* Badges */}
          {completed.length > 0 && (
            <div style={{ marginTop: 20, display: "flex", justifyContent: "center", gap: 8, flexWrap: "wrap" }}>
              {completed.map(id => { const p = PHASES.find(ph => ph.id === id); return (
                <div key={id} style={{ background: "rgba(245,158,11,.1)", border: "1px solid rgba(245,158,11,.2)", borderRadius: 8, padding: "4px 12px", fontSize: 11, color: "#f59e0b", fontFamily: "'Space Mono',monospace", fontWeight: 700 }}>{p.badgeIcon} {p.badge}</div>
              ); })}
            </div>
          )}
        </div>
      </div>

      {/* PHASE LIST â€” only show unlocked + next locked */}
      <div style={{ maxWidth: 680, margin: "0 auto", padding: "40px 20px 80px" }}>
        {PHASES.map((phase, idx) => {
          const done = completed.includes(phase.id);
          const unlocked = phase.id === 1 || completed.includes(phase.id - 1);
          const isNext = !done && unlocked;
          // Hide phases that aren't done AND aren't the next unlocked one
          if (!done && !isNext) return null;

          return (
            <div key={phase.id} style={{ position: "relative", paddingLeft: 52, marginBottom: 16 }}>
              {/* Line */}
              {idx < PHASES.length - 1 && done && (
                <div style={{ position: "absolute", left: 21, top: 48, bottom: -16, width: 2, background: "rgba(34,197,94,.25)" }} />
              )}
              {/* Dot */}
              <div style={{
                position: "absolute", left: 8, top: 16, width: 28, height: 28, borderRadius: "50%",
                background: done ? "#22c55e" : "#f59e0b",
                display: "flex", alignItems: "center", justifyContent: "center",
                fontSize: 13, color: done ? "#fff" : "#000", fontWeight: 800,
                fontFamily: "'Space Mono',monospace",
                animation: isNext ? "pulse 2s infinite" : "none",
              }}>{done ? "âœ“" : phase.id}</div>

              <div
                onClick={() => openPhase(phase.id)}
                style={{
                  background: isNext ? "linear-gradient(135deg,rgba(245,158,11,.08),rgba(245,158,11,.02))" : "rgba(34,197,94,.03)",
                  border: isNext ? "1px solid rgba(245,158,11,.25)" : "1px solid rgba(34,197,94,.12)",
                  borderRadius: 16, padding: "20px 24px", cursor: "pointer",
                  transition: "all .2s",
                }}
              >
                <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between", flexWrap: "wrap", gap: 10 }}>
                  <div style={{ display: "flex", alignItems: "center", gap: 12 }}>
                    <span style={{ fontSize: 24 }}>{phase.icon}</span>
                    <div>
                      <div style={{ fontSize: 16, fontWeight: 700, color: done ? "#4ade80" : "#e2e8f0" }}>Fase {phase.id}: {phase.title}</div>
                      <div style={{ fontSize: 12, color: "#64748b", marginTop: 2 }}>{phase.subtitle}</div>
                    </div>
                  </div>
                  <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
                    <span style={{ background: "rgba(255,255,255,.04)", border: "1px solid rgba(255,255,255,.08)", borderRadius: 6, padding: "4px 12px", fontSize: 11, color: "#64748b", fontFamily: "'Space Mono',monospace" }}>â± {phase.time}</span>
                    <span style={{ background: done ? "rgba(34,197,94,.1)" : "rgba(245,158,11,.1)", border: `1px solid ${done ? "rgba(34,197,94,.2)" : "rgba(245,158,11,.2)"}`, borderRadius: 6, padding: "4px 12px", fontSize: 11, color: done ? "#4ade80" : "#f59e0b", fontWeight: 700, fontFamily: "'Space Mono',monospace" }}>{done ? "âœ“ DONE" : `+${phase.xp} XP`}</span>
                    <span style={{ color: "#475569", fontSize: 16, marginLeft: 4 }}>â†’</span>
                  </div>
                </div>
              </div>
            </div>
          );
        })}

        {/* All done summary */}
        {allDone && (
          <div style={{ marginTop: 48, padding: "44px 32px", background: "linear-gradient(145deg,rgba(34,197,94,.06),rgba(245,158,11,.04))", border: "2px solid rgba(34,197,94,.2)", borderRadius: 24, textAlign: "center", animation: "fadeIn .6s" }}>
            <div style={{ fontSize: 60, marginBottom: 16 }}>ğŸ†</div>
            <h2 style={{ fontSize: 28, fontWeight: 800, marginBottom: 8, background: "linear-gradient(135deg,#22c55e,#f59e0b)", WebkitBackgroundClip: "text", WebkitTextFillColor: "transparent", fontFamily: "'Space Mono',monospace" }}>Â¡MISIÃ“N COMPLETA!</h2>
            <p style={{ color: "#94a3b8", fontSize: 15, marginBottom: 32 }}>Has completado las 7 fases. Tu sitio SEO de calculadoras estÃ¡ listo para el mundo.</p>

            <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit,minmax(140px,1fr))", gap: 12, marginBottom: 32 }}>
              {["InvestigaciÃ³n","100+ Keywords","N URLs creadas","SEO perfecto","Legal completo","Publicado"].map((l,i) => (
                <div key={i} style={{ background: "rgba(34,197,94,.06)", border: "1px solid rgba(34,197,94,.12)", borderRadius: 10, padding: 12, fontSize: 12, color: "#4ade80", fontWeight: 600 }}>âœ… {l}</div>
              ))}
            </div>

            <h3 style={{ color: "#e2e8f0", fontSize: 16, marginBottom: 14, fontFamily: "'Space Mono',monospace" }}>ğŸ“ˆ PrÃ³ximos Pasos</h3>
            <div style={{ textAlign: "left", maxWidth: 420, margin: "0 auto", color: "#94a3b8", fontSize: 13, lineHeight: 2.4 }}>
              <div><strong style={{ color: "#f59e0b" }}>Semana 1:</strong> Monitorea Google Analytics</div>
              <div><strong style={{ color: "#f59e0b" }}>Semana 2-4:</strong> Crea 2-3 backlinks desde sitios relevantes</div>
              <div><strong style={{ color: "#f59e0b" }}>Mes 1-2:</strong> Primeros visitantes llegan</div>
              <div><strong style={{ color: "#f59e0b" }}>Mes 3:</strong> Primeros ingresos comienzan</div>
              <div><strong style={{ color: "#f59e0b" }}>Mes 6+:</strong> Ingresos pasivos recurrentes</div>
            </div>

            <div style={{ marginTop: 28, padding: 20, background: "rgba(245,158,11,.06)", border: "1px solid rgba(245,158,11,.15)", borderRadius: 14 }}>
              <h4 style={{ color: "#f59e0b", fontSize: 14, marginBottom: 12, fontFamily: "'Space Mono',monospace" }}>ğŸ“Š EstimaciÃ³n Realista de Ingresos</h4>
              <div style={{ color: "#94a3b8", fontSize: 13, lineHeight: 2 }}>
                <div>Mes 1-2: <strong style={{ color: "#e2e8f0" }}>50-300 visitantes</strong></div>
                <div>Mes 3: <strong style={{ color: "#e2e8f0" }}>500-2,000 visitantes</strong></div>
                <div>Mes 6: <strong style={{ color: "#e2e8f0" }}>2,000-10,000+ visitantes/mes</strong></div>
                <div>Ingresos: <strong style={{ color: "#22c55e" }}>EUR 300-5,000+/mes</strong></div>
              </div>
            </div>

            <p style={{ color: "#64748b", fontSize: 14, marginTop: 28, fontStyle: "italic" }}>Tu viaje empieza ahora. CREA. Vuelve en 1 mes a decirnos cuÃ¡nto ganaste. ğŸš€</p>
          </div>
        )}

        {/* Timeline summary table */}
        {!allDone && (
          <div style={{ marginTop: 40, background: "rgba(255,255,255,.02)", border: "1px solid rgba(255,255,255,.06)", borderRadius: 14, padding: 24 }}>
            <h3 style={{ color: "#94a3b8", fontSize: 14, marginBottom: 16, fontFamily: "'Space Mono',monospace" }}>ğŸ“Š Timeline Estimado</h3>
            <div style={{ display: "grid", gridTemplateColumns: "1fr auto", gap: "8px 20px", fontSize: 13 }}>
              <span style={{ color: "#64748b" }}>MÃ­nimo (5 URLs)</span><span style={{ color: "#e2e8f0", fontFamily: "'Space Mono',monospace" }}>2-2.5 horas</span>
              <span style={{ color: "#64748b" }}>EstÃ¡ndar (10 URLs)</span><span style={{ color: "#e2e8f0", fontFamily: "'Space Mono',monospace" }}>2.5-3.5 horas</span>
              <span style={{ color: "#64748b" }}>Extenso (20+ URLs)</span><span style={{ color: "#e2e8f0", fontFamily: "'Space Mono',monospace" }}>4+ horas</span>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
